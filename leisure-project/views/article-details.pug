extends ./shared/_master

block append page-content
    div.row
    each tag in article.tags
        div.chip
            | ##{tag}
    h1
        | #{article.title}
    p
        | Published by: 
        a(href="/users/" + article.author.username)
            | #{article.author.username}
    hr
    p
        | Summary: #{article.description}
    hr
    p
        | Content: #{article.content}
    if currentUser
        //- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a    
        div.row
            div.row
                div.input-field.col.s6
                    input#comment-content(type="text" name="text")
                    label(for="comment-content")
                        | Add comment
            div.row
                button#send-comment-btn.btn.waves-effect.waves-light(type="submit")
                    | Send
                    i.material-icons.right
                        | send

        //- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a- a
        div.row
            if article.likes.includes(currentUser)                  
                button.btn.waves-effect.waves-light#rate-btn(type="submit")
                    | Unlike
                    i.material-icons.right
                        | thumb_down
            else 
                button.btn.waves-effect.waves-light#rate-btn(type="submit")
                    | Like
                    i.material-icons.right
                        | thumb_up
    p#likes-count
        | #{article.likes.length} likes.
    ul#comments-list.collection
        | Comments:
        each comment in article.comments
            li.collection-item.avatar
                img.circle(src=comment.author.profilePic)
                a.title(href="/users/" + comment.author.username)
                    | #{comment.author.username}
                p
                    | #{comment.text}

        else
            h5
                | There are currently no comments on this article

block append footer
    script(src='/js/article-details.js')